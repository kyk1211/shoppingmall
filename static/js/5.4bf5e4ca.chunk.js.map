{"version":3,"sources":["components/Stock.js","route/Detail.js"],"names":["Stock","quan","Box","styled","div","Title","h4","props","color","TabContent","tab","setTabAni","useEffect","console","log","Detail","goods","useState","inputValue","setInputValue","setTab","tabAni","localData","setLocalData","dispatch","useDispatch","id","useParams","history","useHistory","data","JSON","parse","localStorage","getItem","includes","splice","indexOf","unshift","Set","length","shift","setItem","stringify","findGoods","find","item","className","onChange","e","target","value","src","width","title","content","price","onClick","type","payload","name","alert","goBack","map","idx","removeItem","Nav","variant","defaultActiveKey","Item","Link","eventKey","CSSTransition","in","classNames","timeout"],"mappings":"uNAEe,SAASA,EAAT,GAA0B,IAATC,EAAQ,EAARA,KAE9B,OACE,mCACW,MAARA,EAAe,iDAAgB,gDAAUA,O,yBCK1CC,EAAMC,IAAOC,IAAV,kDAIHC,EAAQF,IAAOG,GAAV,+DAEC,SAAAC,GAAK,OAAIA,EAAMC,SAgG3B,SAASC,EAAT,GAAyC,IAAnBC,EAAkB,EAAlBA,IAAKC,EAAa,EAAbA,UAIzB,OAHAC,qBAAU,WACRD,GAAU,MAELD,GACL,KAAK,EACH,OAAO,2DACT,KAAK,EACH,OAAO,sCACT,QACEG,QAAQC,IAAI,YAUHC,UAjHf,YAA4B,IAAVC,EAAS,EAATA,MAChB,EAAoCC,mBAAS,IAA7C,mBAAOC,EAAP,KAAmBC,EAAnB,KACA,EAAsBF,mBAAS,GAA/B,mBAAOP,EAAP,KAAYU,EAAZ,KACA,EAA4BH,oBAAS,GAArC,mBAAOI,EAAP,KAAeV,EAAf,KACA,EAAkCM,mBAAS,IAA3C,mBAAOK,EAAP,KAAkBC,EAAlB,KACMC,EAAWC,cAETC,EAAOC,cAAPD,GACFE,EAAUC,cAEhBjB,qBAAU,WACR,IAAIkB,EAAOC,KAAKC,MAAMC,aAAaC,QAAQ,WAU3C,IATY,MAARJ,IACFA,EAAO,IAELA,EAAKK,SAAST,IAChBI,EAAKM,OAAON,EAAKO,QAAQX,GAAK,GAEhCI,EAAKQ,QAAQZ,GACbI,EAAO,IAAIS,IAAIT,GACfA,EAAI,YAAOA,GACJA,EAAKU,QAAU,GACpBV,EAAKW,QAGPR,aAAaS,QAAQ,SAAUX,KAAKY,UAAUb,IAC9CP,EAAaQ,KAAKC,MAAMC,aAAaC,QAAQ,cAC5C,IAEH,IAAMU,EAAY5B,EAAM6B,MAAK,SAAAC,GAAI,OAAIA,EAAKpB,IAAMA,KAWhD,OACE,sBAAKqB,UAAU,YAAf,UACE,cAAC7C,EAAD,UACE,cAACG,EAAD,CAAO0C,UAAU,QAAjB,sBAGF,4BAAK7B,IACL,uBAAO8B,SAAU,SAACC,GAAO9B,EAAc8B,EAAEC,OAAOC,UAC/CP,EAAU3C,KAAO,KAAQ,qBAAK8C,UAAU,YAAf,SACxB,2CAEF,sBAAKA,UAAU,MAAf,UACE,qBAAKA,UAAU,WAAf,SACE,qBAAKK,IAAK,6CAA6CR,EAAUlB,GAAG,GAAG,OAAQ2B,MAAM,WAEvF,sBAAKN,UAAU,gBAAf,UACE,oBAAIA,UAAU,OAAd,SAAsBH,EAAUU,QAChC,4BAAIV,EAAUW,UACd,8BAAIX,EAAUY,MAAd,YACA,cAACxD,EAAD,CAAOC,KAAO2C,EAAU3C,OACxB,wBAAQ8C,UAAU,iBAAiBU,QA7B3C,WACOb,EAAU3C,MAGbuB,EAAS,CAACkC,KAAM,MAAOC,QAAS,CAAEjC,GAAIkB,EAAUlB,GAAIkC,KAAMhB,EAAUU,MAAOrD,KAAO,EAAGuD,MAAOZ,EAAUY,SACtGK,MAAM,+EAHNA,MAAM,aA2BF,sCACA,wBAAQd,UAAU,iBAAiBU,QAAS,WAAO7B,EAAQkC,UAA3D,yCAEF,sBAAKf,UAAU,2BAAf,UACE,iEACCzB,EAAUyC,KAAI,SAACjB,EAAKkB,GAAN,OACb,4BAAclB,GAANkB,MAEV,wBAAQjB,UAAU,0BAA0BU,QAAS,WACnDxB,aAAagC,WAAW,UACxB1C,EAAa,IACbsC,MAAM,uDAHR,mDAQJ,eAACK,EAAA,EAAD,CAAKnB,UAAU,OAAOoB,QAAQ,OAAOC,iBAAiB,SAAtD,UACE,cAACF,EAAA,EAAIG,KAAL,UACE,cAACH,EAAA,EAAII,KAAL,CAAUC,SAAS,SAASd,QAAS,WAAO9C,GAAU,GAAQS,EAAO,IAArE,yCAEF,cAAC8C,EAAA,EAAIG,KAAL,UACE,cAACH,EAAA,EAAII,KAAL,CAAUC,SAAS,SAASd,QAAS,WAAO9C,GAAU,GAAQS,EAAO,IAArE,sBAIJ,cAACoD,EAAA,EAAD,CAAeC,GAAIpD,EAAQqD,WAAW,MAAMC,QAAS,IAArD,SACE,cAAClE,EAAD,CAAYC,IAAKA,EAAKC,UAAWA","file":"static/js/5.4bf5e4ca.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nexport default function Stock({ quan }) {\r\n\r\n  return (\r\n    <>\r\n      {quan == null ? <p>재고 : 0</p> : <p>재고 : { quan }</p>}\r\n    </>\r\n  )\r\n}","/* eslint-disable */\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useHistory, useParams } from 'react-router';\r\nimport styled from 'styled-components';\r\nimport './Detail.scss';\r\nimport { Nav } from 'react-bootstrap';\r\nimport Stock from '../components/Stock';\r\nimport { CSSTransition } from 'react-transition-group';\r\nimport { useDispatch } from 'react-redux';\r\n\r\n\r\nconst Box = styled.div`\r\n  padding-top: 30px;\r\n`;\r\n\r\nconst Title = styled.h4`\r\n  font-size: 25px;\r\n  color: ${ props => props.color };\r\n`;\r\n\r\nfunction Detail({ goods }) {\r\n  const [inputValue, setInputValue] = useState('');\r\n  const [tab, setTab] = useState(0);\r\n  const [tabAni, setTabAni] = useState(false);\r\n  const [localData, setLocalData] = useState([]);\r\n  const dispatch = useDispatch();\r\n  \r\n  const { id } = useParams();\r\n  const history = useHistory();\r\n  \r\n  useEffect(() => {\r\n    let data = JSON.parse(localStorage.getItem('looked'))\r\n    if (data == null) {\r\n      data = []\r\n    }\r\n    if (data.includes(id)) {\r\n      data.splice(data.indexOf(id), 1)\r\n    }\r\n    data.unshift(id)\r\n    data = new Set(data)\r\n    data = [...data]\r\n    while (data.length >= 5) {\r\n      data.shift()\r\n    }\r\n    \r\n    localStorage.setItem('looked', JSON.stringify(data))\r\n    setLocalData(JSON.parse(localStorage.getItem('looked')))\r\n  }, [])\r\n\r\n  const findGoods = goods.find(item => item.id == id)\r\n  \r\n  function handleClick() {\r\n    if (!findGoods.quan) {\r\n      alert('sold out');\r\n    } else {\r\n      dispatch({type: 'ADD', payload: { id: findGoods.id, name: findGoods.title, quan : 1, price: findGoods.price }})\r\n      alert('장바구니에 추가되었습니다.')\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <Box>\r\n        <Title className=\"black\">Detail</Title>\r\n        {/* <Title color=\"red\">Detail</Title> */}\r\n      </Box>\r\n      <p>{ inputValue }</p>\r\n      <input onChange={(e) => {setInputValue(e.target.value)}}/>\r\n      {findGoods.quan ? null : (<div className=\"my-alert2\">\r\n        <p>sold out</p>\r\n      </div>)}\r\n      <div className=\"row\">\r\n        <div className=\"col-md-5\">\r\n          <img src={\"https://codingapple1.github.io/shop/shoes\"+(findGoods.id+1)+\".jpg\"} width=\"100%\" />\r\n        </div>\r\n        <div className=\"col-md-5 mt-4\">\r\n          <h4 className=\"pt-5\">{findGoods.title}</h4>\r\n          <p>{findGoods.content}</p>\r\n          <p>{findGoods.price}원</p>\r\n          <Stock quan={ findGoods.quan } />\r\n          <button className=\"btn btn-danger\" onClick={handleClick}>주문하기</button> \r\n          <button className=\"btn btn-danger\" onClick={() => {history.goBack()}}>뒤로가기</button> \r\n        </div>\r\n        <div className=\"col-md-2 mt-4 lookedList\">\r\n          <p>최근 본 상품</p>\r\n          {localData.map((item,idx) => (\r\n            <p key={idx}>{item}</p>\r\n          ))}\r\n          <button className=\"btn btn-primary del-btn\" onClick={() => {\r\n            localStorage.removeItem('looked')\r\n            setLocalData([])\r\n            alert('기록을 지웠습니다.')}}>기록 지우기\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <Nav className=\"mt-5\" variant=\"tabs\" defaultActiveKey=\"link-0\">\r\n        <Nav.Item>\r\n          <Nav.Link eventKey=\"link-0\" onClick={() => {setTabAni(false); setTab(0)}}>제품 설명</Nav.Link>\r\n        </Nav.Item>\r\n        <Nav.Item>\r\n          <Nav.Link eventKey=\"link-1\" onClick={() => {setTabAni(false); setTab(1)}}>Q&A</Nav.Link>\r\n        </Nav.Item>\r\n      </Nav>\r\n\r\n      <CSSTransition in={tabAni} classNames=\"wow\" timeout={500}>\r\n        <TabContent tab={tab} setTabAni={setTabAni}/>\r\n      </CSSTransition>\r\n    \r\n    </div> \r\n  )\r\n}\r\n\r\nfunction TabContent({ tab, setTabAni }) {\r\n  useEffect(() => {\r\n    setTabAni(true);\r\n  })\r\n  switch(tab) {\r\n    case 0:\r\n      return <div>제품설명</div>\r\n    case 1:\r\n      return <div>q&a</div>\r\n    default:\r\n      console.log('default')\r\n  }\r\n}\r\n\r\n// function mapStateToProps(state) {\r\n//   return {\r\n//     state: state.goodsReducer\r\n//   }\r\n// }\r\n\r\nexport default Detail"],"sourceRoot":""}